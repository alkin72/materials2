{% extends 'main/layout.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css">
<!--    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/select/1.3.3/css/select.bootstrap5.min.css">
<link rel="stylesheet" href="{% static 'directory/css/directory.css' %}">
{% endblock %}


{% block title %}{{title}}{% endblock %}

{% block cap %}
    <h2>{{title}}</h2>
{% endblock %}

{% block content %}

<div><a class="btn btn-primary btn-block" href="{% url 'create_category' %}">Создать категорию материала</a></div><br>
<div class="table-responsive">
    <table class="table table-bordered table-sm" id="dt-table" data-page-length="25">
        <thead class="table-light">
        <tr class="text-left">
            <th hidden></th>
            <th width="24%">наименование</th>
            <th width="10%">значение</th>
            <th width="40%">примечание</th>
            <th width="5%">Изменить</th>
            <th width="5%">Удалить</th>
        </tr>
        </thead>
        <tbody>
        {% for el in cat %}
        <tr>
                <td class="td_table" hidden>{{ el.category_id }}</td>
                <td class="td_table">{{ el.name }}</td>
                <td class="td_table">{{ el.value }}</td>
                <td class="td_table">{{ el.note }}</td>
                <td class="td_table"><a href="{% url 'category_detail' el.category_id %}" class="btn btn-outline-primary btn-sm">Изменить</a></td>
                <td class="td_table"><a href="{% url 'category_delete' el.category_id %}" class="btn btn-outline-primary btn-sm">Удалить</a></td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}

{% block footer %}
   <p class="fs-6">Дата сегодня: {% now "j F Y" %}, Вы вошли под - &nbsp  <p class="text-uppercase"> {{ user.username }} </p> </p>
{% endblock %}

{% block script %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script src="{% static 'docs/js/datatable.js' %}"></script>
    <script src="{% static 'docs/js/row_higlight.js'%}"></script>
{% endblock %}